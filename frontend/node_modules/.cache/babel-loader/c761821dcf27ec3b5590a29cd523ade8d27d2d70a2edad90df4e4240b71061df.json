{"ast":null,"code":"// import React, { useEffect, useState } from 'react'\n// import './Choose.css'\n// import axios from 'axios';\n// import Questions from '../Questions/Questions';\n\n// function Choose() {\n//   const [choose, setChoose] = useState('')\n//   const[questions, setQuestions] = useState([])\n//     const [error, setError] = useState('');\n\n//     useEffect(() => {\n//       console.log(questions);\n//   }, [questions]);\n\n//   // const[currQuestIndex, setCurrQuestIndex] = useState(0)\n//   // const[displayQuestion, setDisplayQuestion] = useState('')\n\n//   const handleSubmit = async(e) => {\n//     e.preventDefault();\n//     console.log(choose)\n\n//     if (!choose) {\n//       setError('Please select an option.');\n//       return;\n//   }\n//   setError('');\n\n//     const result = await axios.post('http://localhost:5000/questions',{choice:choose})\n//     console.log('Result : ',result)\n//     setQuestions(result.data.questions)\n\n//     // console.log(questions)\n//   };\n\n//   return (\n//     <div>\n//       <div className=\"container\">\n//         <div className=\"content-div\">\n//           <form>\n//             <h2 className=\"text-center mb-5\">Business Survey</h2>\n\n//             <div className=\"col-lg-8 col-md-12 col-sm-12 mx-auto mb-5\">\n//               <label className=\"form-label chooseQuestion fw-bold mb-5\">Are you a restaurant owner or a supplier ?</label> <br />\n//               <div className='ownerSupplier'>\n//                 <div>\n//                   <input type='radio' name='radio' value='restaurant owner' onChange={(e) => setChoose(e.target.value)} />\n//                   <label>Restaurant Owner</label>\n//                 </div>\n//                 <div>\n//                   <input type='radio' name='radio' value='supplier' onChange={(e) => setChoose(e.target.value)} />\n//                   <label>Supplier</label>\n//                 </div>\n//               </div>\n//               {error && <p className=\"error\">{error}</p>}\n\n//             </div>\n\n//             <div className=\"quiz-btn-section \">\n//               <button type='submit' className=\"btn btn-primary second-next-btn\" onClick={handleSubmit} >Next</button>\n//             </div>\n\n//           </form>\n//         </div>\n//       </div>\n//     </div>\n//   )\n// }\n// export default Choose\n\n// import React, {  useEffect, useState } from 'react'\n// import './Choose.css'\n// import axios from 'axios';\n\n// function Choose() {\n\n//   const [choose, setChoose] = useState('')\n//   const[questions, setQuestions] = useState([])\n//     const [error, setError] = useState('');\n//     const [errors, setErrors] = useState('');\n//     const[currentQuestionIndex, setCurrentQuestionIndex] = useState(0)\n//     const [answers, setAnswers] = useState([]);\n\n//     useEffect(() => {\n//       console.log(questions);\n//   }, [questions]);\n\n//    useEffect(() => {\n//     setErrors(Array(questions.length).fill(''));\n//   }, [questions]);\n\n//   const handleSubmit = async(e) => {\n//     e.preventDefault();\n//     console.log(choose)\n\n//     if (!choose) {\n//       setError('Please select an option.');\n//       return;\n//   }\n//   setError('');\n\n//     const result = await axios.post('http://localhost:5000/questions',{ choice:choose})\n//     console.log('Result : ',result)\n//     setQuestions(result.data.questions)\n//     const userEmail = localStorage.getItem('email')\n//     console.log(userEmail)\n//     const storeResult = await axios.post('http://localhost:5000/store-user-type', { userType: choose,userEmail:userEmail });\n//         console.log('Store Result:', storeResult.data);\n\n//     // console.log(questions)\n//   };\n\n// const handleNextQuestion = async (e) => {\n//     e.preventDefault();\n//     if (choose === '') {\n//       setErrors('Please select an answer before proceeding.');\n//     }else{\n//       setErrors('');\n//       setAnswers([...answers, {question: questions[currentQuestionIndex].text, answer:choose}]);\n//       console.log(answers)\n//       if(currentQuestionIndex < questions.length-1){\n\n//         setCurrentQuestionIndex(currentQuestionIndex + 1);\n//         setChoose('');\n//       }else if(currentQuestionIndex === questions.length-1){\n\n//         console.log('No more questions');\n//         const submitAnswer = await axios.post('http://localhost:5000/all-answers',answers)\n//         console.log(submitAnswer)\n//       }\n//     }\n\n// };\n\n// useEffect(() => {\n//   const submitAnswers = async () => {\n//       console.log('Submitting answers:', answers);\n//       const userEmail = localStorage.getItem('email')\n//       const submitAnswer = await axios.post('http://localhost:5000/all-answers', {survey:answers , userEmail:userEmail });\n//       console.log(submitAnswer);\n//   };\n\n//   if (currentQuestionIndex === questions.length - 1) {\n//       submitAnswers();\n//   }\n// }, [answers, currentQuestionIndex, questions.length]);\n\n//   return (\n//     <div>\n//       <div className=\"container\">\n//         <div className=\"content-div\">\n//           <form>\n//             <h2 className=\"text-center mb-5\">Business Survey</h2>\n//             {questions.length === 0 ? (\n//               <div className=\"col-lg-8 col-md-12 col-sm-12 mx-auto mb-5\">\n//                 <label className=\"form-label chooseQuestion fw-bold mb-5\">Are you a restaurant owner or a supplier ? </label> <br />\n//                 <div className='ownerSupplier'>\n//                   <div>\n//                     <input type='radio' name='radio' value='restaurant owner' onChange={(e) => setChoose(e.target.value)} />\n//                     <label>Restaurant Owner</label>\n//                   </div>\n//                   <div>\n//                     <input type='radio' name='radio' value='supplier' onChange={(e) => setChoose(e.target.value)} />\n//                     <label>Supplier</label>\n//                   </div>\n//                 </div>\n//                 {error && <p className=\"error\">{error}</p>}\n\n//                 <div className=\"quiz-btn-section \">\n//                <button type='submit' className=\"btn btn-primary second-next-btn\" onClick={handleSubmit} >Next</button>\n//              </div> \n//               </div>\n//             ) : (\n//               <div className=\"col-lg-8 col-md-12 col-sm-12 mx-auto mb-5\">\n//                 <label className=\"form-label chooseQuestion fw-bold mb-5\" value={questions[currentQuestionIndex].text}>{questions[currentQuestionIndex].text}</label> <br />\n//                  <div className='ownerSupplier' style={{ width: '100%', display: 'flex', flexDirection: 'column' }}>\n//                  {questions[currentQuestionIndex].options.map((option, index) => (\n//                     <div key={index} >\n//                       <input type='radio' name='radio' value={option} onChange={(e) => setChoose(e.target.value)} />\n//                       <label>{option}</label> \n//                     </div>\n//                   ))} \n//                 </div>\n//                 <div className=\"quiz-btn-section \">\n\n//                       <button type='submit' className=\"btn btn-primary second-next-btn\" onClick={handleNextQuestion}>\n//                         {currentQuestionIndex === questions.length-1 ? 'Submit' : 'Next'}</button>\n//              </div> \n//              {/* {error && <div className=\"error-message\">{error}</div>} */}\n//              {errors[currentQuestionIndex] && <div className=\"error-message\">{errors[currentQuestionIndex]}</div>}\n\n//               </div>\n//             )}\n//           </form>\n//         </div>\n//       </div>\n//     </div>\n//   )\n// }\n// export default Choose","map":{"version":3,"names":[],"sources":["C:/Users/LENOVO/Desktop/NODE/thathwaa/TRIAL PROG/frontend/src/Components/Choose/Choose.js"],"sourcesContent":["// import React, { useEffect, useState } from 'react'\r\n// import './Choose.css'\r\n// import axios from 'axios';\r\n// import Questions from '../Questions/Questions';\r\n\r\n// function Choose() {\r\n//   const [choose, setChoose] = useState('')\r\n//   const[questions, setQuestions] = useState([])\r\n//     const [error, setError] = useState('');\r\n\r\n\r\n//     useEffect(() => {\r\n//       console.log(questions);\r\n//   }, [questions]);\r\n\r\n\r\n\r\n//   // const[currQuestIndex, setCurrQuestIndex] = useState(0)\r\n//   // const[displayQuestion, setDisplayQuestion] = useState('')\r\n\r\n\r\n\r\n//   const handleSubmit = async(e) => {\r\n//     e.preventDefault();\r\n//     console.log(choose)\r\n\r\n//     if (!choose) {\r\n//       setError('Please select an option.');\r\n//       return;\r\n//   }\r\n//   setError('');\r\n\r\n//     const result = await axios.post('http://localhost:5000/questions',{choice:choose})\r\n//     console.log('Result : ',result)\r\n//     setQuestions(result.data.questions)\r\n\r\n//     // console.log(questions)\r\n//   };\r\n\r\n\r\n//   return (\r\n//     <div>\r\n//       <div className=\"container\">\r\n//         <div className=\"content-div\">\r\n//           <form>\r\n//             <h2 className=\"text-center mb-5\">Business Survey</h2>\r\n           \r\n//             <div className=\"col-lg-8 col-md-12 col-sm-12 mx-auto mb-5\">\r\n//               <label className=\"form-label chooseQuestion fw-bold mb-5\">Are you a restaurant owner or a supplier ?</label> <br />\r\n//               <div className='ownerSupplier'>\r\n//                 <div>\r\n//                   <input type='radio' name='radio' value='restaurant owner' onChange={(e) => setChoose(e.target.value)} />\r\n//                   <label>Restaurant Owner</label>\r\n//                 </div>\r\n//                 <div>\r\n//                   <input type='radio' name='radio' value='supplier' onChange={(e) => setChoose(e.target.value)} />\r\n//                   <label>Supplier</label>\r\n//                 </div>\r\n//               </div>\r\n//               {error && <p className=\"error\">{error}</p>}\r\n\r\n//             </div>\r\n\r\n//             <div className=\"quiz-btn-section \">\r\n//               <button type='submit' className=\"btn btn-primary second-next-btn\" onClick={handleSubmit} >Next</button>\r\n//             </div>\r\n\r\n\r\n//           </form>\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   )\r\n// }\r\n// export default Choose\r\n\r\n\r\n\r\n\r\n// import React, {  useEffect, useState } from 'react'\r\n// import './Choose.css'\r\n// import axios from 'axios';\r\n\r\n\r\n// function Choose() {\r\n\r\n//   const [choose, setChoose] = useState('')\r\n//   const[questions, setQuestions] = useState([])\r\n//     const [error, setError] = useState('');\r\n//     const [errors, setErrors] = useState('');\r\n//     const[currentQuestionIndex, setCurrentQuestionIndex] = useState(0)\r\n//     const [answers, setAnswers] = useState([]);\r\n\r\n\r\n//     useEffect(() => {\r\n//       console.log(questions);\r\n//   }, [questions]);\r\n\r\n//    useEffect(() => {\r\n//     setErrors(Array(questions.length).fill(''));\r\n//   }, [questions]);\r\n\r\n//   const handleSubmit = async(e) => {\r\n//     e.preventDefault();\r\n//     console.log(choose)\r\n\r\n//     if (!choose) {\r\n//       setError('Please select an option.');\r\n//       return;\r\n//   }\r\n//   setError('');\r\n\r\n//     const result = await axios.post('http://localhost:5000/questions',{ choice:choose})\r\n//     console.log('Result : ',result)\r\n//     setQuestions(result.data.questions)\r\n//     const userEmail = localStorage.getItem('email')\r\n//     console.log(userEmail)\r\n//     const storeResult = await axios.post('http://localhost:5000/store-user-type', { userType: choose,userEmail:userEmail });\r\n//         console.log('Store Result:', storeResult.data);\r\n\r\n\r\n//     // console.log(questions)\r\n//   };\r\n\r\n\r\n\r\n// const handleNextQuestion = async (e) => {\r\n//     e.preventDefault();\r\n//     if (choose === '') {\r\n//       setErrors('Please select an answer before proceeding.');\r\n//     }else{\r\n//       setErrors('');\r\n//       setAnswers([...answers, {question: questions[currentQuestionIndex].text, answer:choose}]);\r\n//       console.log(answers)\r\n//       if(currentQuestionIndex < questions.length-1){\r\n  \r\n//         setCurrentQuestionIndex(currentQuestionIndex + 1);\r\n//         setChoose('');\r\n//       }else if(currentQuestionIndex === questions.length-1){\r\n  \r\n//         console.log('No more questions');\r\n//         const submitAnswer = await axios.post('http://localhost:5000/all-answers',answers)\r\n//         console.log(submitAnswer)\r\n//       }\r\n//     }\r\n\r\n// };\r\n\r\n\r\n\r\n// useEffect(() => {\r\n//   const submitAnswers = async () => {\r\n//       console.log('Submitting answers:', answers);\r\n//       const userEmail = localStorage.getItem('email')\r\n//       const submitAnswer = await axios.post('http://localhost:5000/all-answers', {survey:answers , userEmail:userEmail });\r\n//       console.log(submitAnswer);\r\n//   };\r\n\r\n//   if (currentQuestionIndex === questions.length - 1) {\r\n//       submitAnswers();\r\n//   }\r\n// }, [answers, currentQuestionIndex, questions.length]);\r\n\r\n\r\n//   return (\r\n//     <div>\r\n//       <div className=\"container\">\r\n//         <div className=\"content-div\">\r\n//           <form>\r\n//             <h2 className=\"text-center mb-5\">Business Survey</h2>\r\n//             {questions.length === 0 ? (\r\n//               <div className=\"col-lg-8 col-md-12 col-sm-12 mx-auto mb-5\">\r\n//                 <label className=\"form-label chooseQuestion fw-bold mb-5\">Are you a restaurant owner or a supplier ? </label> <br />\r\n//                 <div className='ownerSupplier'>\r\n//                   <div>\r\n//                     <input type='radio' name='radio' value='restaurant owner' onChange={(e) => setChoose(e.target.value)} />\r\n//                     <label>Restaurant Owner</label>\r\n//                   </div>\r\n//                   <div>\r\n//                     <input type='radio' name='radio' value='supplier' onChange={(e) => setChoose(e.target.value)} />\r\n//                     <label>Supplier</label>\r\n//                   </div>\r\n//                 </div>\r\n//                 {error && <p className=\"error\">{error}</p>}\r\n\r\n//                 <div className=\"quiz-btn-section \">\r\n//                <button type='submit' className=\"btn btn-primary second-next-btn\" onClick={handleSubmit} >Next</button>\r\n//              </div> \r\n//               </div>\r\n//             ) : (\r\n//               <div className=\"col-lg-8 col-md-12 col-sm-12 mx-auto mb-5\">\r\n//                 <label className=\"form-label chooseQuestion fw-bold mb-5\" value={questions[currentQuestionIndex].text}>{questions[currentQuestionIndex].text}</label> <br />\r\n//                  <div className='ownerSupplier' style={{ width: '100%', display: 'flex', flexDirection: 'column' }}>\r\n//                  {questions[currentQuestionIndex].options.map((option, index) => (\r\n//                     <div key={index} >\r\n//                       <input type='radio' name='radio' value={option} onChange={(e) => setChoose(e.target.value)} />\r\n//                       <label>{option}</label> \r\n//                     </div>\r\n//                   ))} \r\n//                 </div>\r\n//                 <div className=\"quiz-btn-section \">\r\n\r\n//                       <button type='submit' className=\"btn btn-primary second-next-btn\" onClick={handleNextQuestion}>\r\n//                         {currentQuestionIndex === questions.length-1 ? 'Submit' : 'Next'}</button>\r\n//              </div> \r\n//              {/* {error && <div className=\"error-message\">{error}</div>} */}\r\n//              {errors[currentQuestionIndex] && <div className=\"error-message\">{errors[currentQuestionIndex]}</div>}\r\n                \r\n//               </div>\r\n//             )}\r\n//           </form>\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   )\r\n// }\r\n// export default Choose"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAGA;AACA;AACA;;AAIA;AACA;;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAKA;AACA;AACA;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}